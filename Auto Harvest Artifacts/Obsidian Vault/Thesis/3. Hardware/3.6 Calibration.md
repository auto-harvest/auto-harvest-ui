Accurate calibration of analog sensors is vital for reliable system behavior in the Auto Harvest platform ‚Äî particularly for **chemical sensors** like pH and TDS, which are susceptible to drift, environmental noise, and manufacturing variability.

#### üß™ pH Sensor Calibration

The **SEN0161 pH sensor** initially exhibited reversed behavior when using the manufacturer‚Äôs library ‚Äî producing **higher pH values for acidic solutions**. To resolve this, a **two-point calibration** method was implemented based on academic literature confirming a **linear voltage-to-pH relationship** ([source](https://www.researchgate.net/figure/Linear-sweep-voltammograms-at-different-pH-values-A-plot-of-pH-value-versus-peak_fig5_388076899)).

Calibration involved:

- Testing with **distilled water (~pH 7.0)** and an **acidic reference solution (pH 4.03)**, verified with pH strips
    
- Recording voltage readings at each known point
    
- Using **linear interpolation** to derive pH from raw analog readings
    

These calibration parameters (voltages and expected pH values) are **stored persistently in EEPROM**, so they survive power cycles and don't require re-entry after restarts. Sensor readings are **smoothed using averaging** to reduce fluctuations caused by analog noise.

---

#### üåä TDS Sensor Calibration

The **SEN0244 TDS sensor** measures electroconductivity to estimate nutrient strength (ppm). A **two-point calibration** routine was executed using the official Arduino library, cross-validated with a **commercial EC/TDS meter**, using a standard **cell constant (K = 0.64)** ([source](https://iopscience.iop.org/article/10.1088/1755-1315/118/1/012019/pdf)).

- Calibration voltages and reference TDS values are also **saved in EEPROM**
    
- The calibration function accounts for **nonlinear analog behavior**
    
- Values are averaged to reduce noise in turbulent water or during pump cycles
    

---

#### üå°Ô∏è Verification of Digital Sensors

Digital sensors used for air and water temperature, as well as humidity (DHT11, DS18B20), were **indirectly verified** using consumer-grade tools:

- **Water** was checked with a **food thermometer**
    
- **Ambient conditions** were confirmed against a **weather station** and **body thermometer**
    

All values were within acceptable error margins (¬±1¬∞C for temperature, ¬±2% for RH).

---

#### üîÑ Calibration Lifecycle

- **Performed manually** during setup or maintenance (recommended monthly)
    
- **Stored values are written to EEPROM** and loaded at runtime
    
- **No user-accessible calibration menu** exists yet, but a future update will allow **app-guided calibration workflows**
    
- The mobile app will prompt the user to apply known buffer solutions and enter their values for calibration
    

---

This calibration strategy ensures the system is both **accurate enough for real-world use** and **maintainable over time**, with persistent correction data and the flexibility to upgrade the UX in future firmware versions.