All domain resolution and DNS control for the Auto Harvest ecosystem are managed through **Cloudflare‚Äôs DNS platform**, which provides low-latency global propagation, intuitive management, and deep integration with Cloudflare‚Äôs performance and security stack.

#### üß≠ Root Domain and Record Types

Our root domain, **`autoharvest.solutions`**, serves as the primary namespace for all application resources. We use a combination of DNS record types to support different services:

- **A Records**:  
    Used to point subdomains like `api.autoharvest.solutions` and `mqtt-<hash>.autoharvest.solutions` to static IP addresses associated with Google Cloud Load Balancers.
    
- **CNAME Records**:  
    Utilized for redirecting `www.autoharvest.solutions` and for bucket-based hosting references (e.g., `storage.googleapis.com` aliases for frontend delivery).
    
- **MX Records**:  
    Handle email routing for admin or notification use cases via external mail services.
    
- **TXT Records**:  
    Employed for:
    
    - SPF/DKIM/DMARC email verification
        
    - Domain ownership validation (e.g., Google Search Console)
        
    - Workarounds to **bypass Google Cloud‚Äôs bucket URL access restrictions** and ensure SEO/indexing compliance
        

#### üßë‚Äçüíª Subdomain Strategy

Subdomains are assigned based on service roles:

- `api.autoharvest.solutions` ‚Äì REST API
    
- `mqtt-<hash>.autoharvest.solutions` ‚Äì Firmware messaging (ActiveMQ)
    
- `www.autoharvest.solutions` ‚Äì Redirect or landing page for the app
    

This structure promotes future scalability and helps isolate concerns between services and environments (e.g., `stage.api.autoharvest.solutions`).

#### ‚òÅÔ∏è Proxied vs. DNS-Only Records

Most functional records are **proxied through Cloudflare (orange cloud)**, allowing us to:

- Mask backend infrastructure (e.g., GCP IP addresses)
    
- Apply Cloudflare WAF and firewall filtering
    
- Gain performance benefits via edge caching
    

**DNS-only (grey-cloud) records** are used only where required ‚Äî such as for mail delivery or third-party validation services.

#### ‚öôÔ∏è DNS Management Practices

At this stage of the project, DNS records are managed manually through the **Cloudflare Dashboard**. This approach is sufficient for the current deployment scale and allows for quick updates during development. As the system matures, automation via Cloudflare‚Äôs API or Terraform may be adopted for consistency and CI integration.