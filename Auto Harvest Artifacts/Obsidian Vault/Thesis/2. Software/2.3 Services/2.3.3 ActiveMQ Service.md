**ActiveMQ** is the messaging backbone of the Auto Harvest architecture. It enables asynchronous, real-time communication between devices and the backend using **MQTT**, **STOMP**, and **OpenWire** protocols.

#### ðŸ§± Docker Configuration (Dev)



services:
  activemq:
    image: rmohr/activemq
    ports:
      - "3009:61616"   # OpenWire (default)
      - "3010:8161"    # Web admin UI
      - "3011:1883"    # MQTT broker

This configuration exposes:

- A **classic message queue interface** (used in dev tools and monitoring)
    
- A **web interface** on port `8161` for managing topics, queues, and connections
    
- An **MQTT port (1883)** that both firmware and backend clients subscribe/publish to
    

#### ðŸ“¦ In Production (GCP)

In production, ActiveMQ is deployed inside the **GKE cluster**, exposed via a dedicated **LoadBalancer** service on port 1883 and protected by:

- Cloudflare routing
    
- Internal health checks
    
- TLS-based firewall rules (future work)